在v1的基础上，重构代码结构，方便以后添加新东西。